(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{279:(e,s,l)=>{"use strict";l.r(s),l.d(s,{default:()=>i});var t=l(5155),a=l(2115);function r(){return(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,t.jsx)("div",{className:"bg-white rounded-lg shadow-2xl p-8 max-w-sm",children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-6",children:[(0,t.jsxs)("div",{className:"relative w-16 h-16",children:[(0,t.jsx)("div",{className:"absolute inset-0 rounded-full border-4 border-gray-200"}),(0,t.jsx)("div",{className:"absolute inset-0 rounded-full border-4 border-transparent border-t-blue-600 border-r-blue-600 animate-spin"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"text-lg font-semibold text-gray-800",children:"マッチング中..."}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:"AIが最適な人材を探索しています"})]}),(0,t.jsxs)("div",{className:"w-full",children:[(0,t.jsxs)("div",{className:"flex justify-between text-xs text-gray-600 mb-2",children:[(0,t.jsx)("span",{children:"処理進捗"}),(0,t.jsx)("span",{children:"処理中"})]}),(0,t.jsx)("div",{className:"w-full h-2 bg-gray-200 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-full bg-gradient-to-r from-blue-500 to-blue-600 rounded-full animate-pulse"})})]}),(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),(0,t.jsx)("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),(0,t.jsx)("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]})})})}function d(e){let{onResultsReceived:s}=e,[l,d]=(0,a.useState)({案件名:"",必須スキル:"",単価:"",勤務地および勤務形態:""}),[n,i]=(0,a.useState)(!1),[c,o]=(0,a.useState)(null),x=e=>{let{name:s,value:l}=e.target;d(e=>({...e,[s]:l}))},m=async e=>{e.preventDefault(),i(!0),o(null);try{let e=await fetch("/api/matching",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)});if(!e.ok){let s=await e.json();throw Error(s.error||"API Error")}let t=await e.json(),a=t.candidates.map(e=>({...e,受信日時:h(e.受信日時)})),r=t.推奨アクション||[];s(a,r)}catch(e){o(e instanceof Error?e.message:"An error occurred"),console.error("Error:",e)}finally{i(!1)}},h=e=>{let s=new Date(e),l=s.getFullYear(),t=String(s.getMonth()+1).padStart(2,"0"),a=String(s.getDate()).padStart(2,"0"),r=String(s.getHours()).padStart(2,"0"),d=String(s.getMinutes()).padStart(2,"0");return"".concat(l,"年").concat(t,"月").concat(a,"日 ").concat(r,":").concat(d)};return(0,t.jsxs)(t.Fragment,{children:[n&&(0,t.jsx)(r,{}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,t.jsx)("div",{className:"lg:col-span-2",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 md:p-8",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"案件情報を入力して下さい"}),c&&(0,t.jsx)("div",{className:"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded",children:c}),(0,t.jsxs)("form",{onSubmit:m,className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"案件名",className:"block text-sm font-semibold text-gray-700 mb-2",children:"案件名"}),(0,t.jsx)("input",{type:"text",id:"案件名",name:"案件名",value:l.案件名,onChange:x,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"例：在庫管理システム開発",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"必須スキル",className:"block text-sm font-semibold text-gray-700 mb-2",children:"必須スキル"}),(0,t.jsx)("input",{type:"text",id:"必須スキル",name:"必須スキル",value:l.必須スキル,onChange:x,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"例：Java,Spring Boot,AWS EC2,RDS,PostgreSQL",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"単価",className:"block text-sm font-semibold text-gray-700 mb-2",children:"単価"}),(0,t.jsx)("input",{type:"text",id:"単価",name:"単価",value:l.単価,onChange:x,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"例：70-80万",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"勤務地および勤務形態",className:"block text-sm font-semibold text-gray-700 mb-2",children:"勤務地および勤務形態"}),(0,t.jsx)("input",{type:"text",id:"勤務地および勤務形態",name:"勤務地および勤務形態",value:l.勤務地および勤務形態,onChange:x,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"例：品川駅、リモート併用",required:!0})]}),(0,t.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,t.jsx)("button",{type:"submit",disabled:n,className:"flex-1 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white font-bold py-2 px-4 rounded-lg transition duration-200",children:n?"処理中...":"見合う要員を探す"}),(0,t.jsx)("button",{type:"button",onClick:()=>{d({案件名:"",必須スキル:"",単価:"",勤務地および勤務形態:""}),o(null)},disabled:n,className:"flex-1 bg-gray-400 hover:bg-gray-500 disabled:bg-gray-300 text-white font-bold py-2 px-4 rounded-lg transition duration-200",children:"クリア"})]})]})]})}),(0,t.jsx)("div",{className:"lg:col-span-1",children:(0,t.jsxs)("div",{className:"bg-blue-50 rounded-lg shadow p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-blue-900 mb-4",children:"入力例"}),(0,t.jsxs)("div",{className:"space-y-4 text-sm text-blue-800",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold",children:"案件名"}),(0,t.jsx)("p",{children:"在庫管理システム開発"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold",children:"必須スキル"}),(0,t.jsx)("p",{children:"Java,Spring Boot,AWS EC2,RDS,PostgreSQL"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold",children:"単価"}),(0,t.jsx)("p",{children:"70-80万"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold",children:"勤務地および勤務形態"}),(0,t.jsx)("p",{children:"溜池山王駅、リモート併用"})]})]})]})})]})]})}function n(e){let{results:s,recommendedActions:l,onBackToForm:a}=e,r=e=>{let s=e["案件とのマッチ度（100点満点）"];return"string"==typeof s?parseInt(s,10):s},d=s.length>0?Math.round(s.reduce((e,s)=>e+r(s),0)/s.length):0;return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsx)("p",{className:"text-gray-600 text-sm",children:"マッチング結果数"}),(0,t.jsx)("p",{className:"text-4xl font-bold text-blue-600",children:s.length})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsx)("p",{className:"text-gray-600 text-sm",children:"平均マッチ度"}),(0,t.jsxs)("p",{className:"text-4xl font-bold text-green-600",children:[d,"%"]})]}),(0,t.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,t.jsx)("button",{onClick:a,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-4 rounded-lg transition duration-200",children:"フォームへ戻る"})})]}),(0,t.jsx)("div",{className:"space-y-4",children:s.map((e,s)=>(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition-shadow",children:[(0,t.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white p-6",children:(0,t.jsxs)("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm opacity-90",children:"要員ID"}),(0,t.jsx)("p",{className:"text-2xl font-bold",children:e.要員ID})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("p",{className:"text-sm opacity-90",children:"マッチ度"}),(0,t.jsxs)("p",{className:"text-3xl font-bold",children:[r(e),"%"]})]})]})}),(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"border-l-4 border-blue-500 pl-4",children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"受信日時"}),(0,t.jsx)("p",{className:"text-lg font-semibold text-gray-800",children:e.受信日時})]}),(0,t.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 space-y-3",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"要員情報"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"氏名"}),(0,t.jsx)("p",{className:"font-semibold text-gray-800",children:e.要員情報.氏名})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"最寄駅"}),(0,t.jsx)("p",{className:"font-semibold text-gray-800",children:e.要員情報.最寄駅})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"スキル"}),(0,t.jsx)("p",{className:"font-semibold text-gray-800",children:e.要員情報.スキル})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"希望勤務形態"}),(0,t.jsx)("p",{className:"font-semibold text-gray-800",children:e.要員情報.希望勤務形態})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"備考"}),(0,t.jsx)("p",{className:"text-gray-800",children:e.要員情報.備考})]})]})]}),(0,t.jsxs)("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded",children:[(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"理由コメント"}),(0,t.jsx)("p",{className:"text-gray-800 leading-relaxed",children:e.理由コメント})]})]})]},s))}),l.length>0&&(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,t.jsx)("h3",{className:"text-2xl font-bold text-gray-800 mb-4",children:"全体推奨アクション"}),(0,t.jsx)("ul",{className:"space-y-3",children:l.map((e,s)=>(0,t.jsxs)("li",{className:"flex items-start gap-3 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border-l-4 border-blue-500",children:[(0,t.jsx)("span",{className:"flex-shrink-0 w-6 h-6 bg-blue-500 text-white rounded-full flex items-center justify-center text-sm font-bold mt-0.5",children:s+1}),(0,t.jsx)("span",{className:"text-gray-800 text-base",children:e})]},s))})]}),(0,t.jsx)("div",{className:"flex justify-center mt-8",children:(0,t.jsx)("button",{onClick:a,className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-8 rounded-lg transition duration-200 text-lg",children:"フォームへ戻る"})})]})}function i(){let[e,s]=(0,a.useState)({results:null,recommendedActions:[]});return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,t.jsx)("header",{className:"bg-blue-600 text-white shadow-lg",children:(0,t.jsx)("div",{className:"container mx-auto px-4 py-6",children:(0,t.jsx)("h1",{className:"text-4xl font-bold",children:"miniMatch(nextjs)"})})}),(0,t.jsx)("main",{className:"container mx-auto px-4 py-8",children:null===e.results?(0,t.jsx)(d,{onResultsReceived:(e,l)=>{s({results:e,recommendedActions:l})}}):(0,t.jsx)(n,{results:e.results,recommendedActions:e.recommendedActions,onBackToForm:()=>{s({results:null,recommendedActions:[]})}})})]})}},7820:(e,s,l)=>{Promise.resolve().then(l.bind(l,279))}},e=>{e.O(0,[441,255,358],()=>e(e.s=7820)),_N_E=e.O()}]);